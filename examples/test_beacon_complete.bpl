< Beacon 2.0 - Complete Integration Test >
< Tests ALL working features together >

blueprint Person {
    shard name
    shard age
}

blueprint Counter {
    shard value
}

spec test_blueprints() {
    show("=== Testing Blueprints ===")
    
    < Create instances >
    firm p = spawn Person()
    firm c = spawn Counter()
    
    < Set properties >
    p.name = "Alice"
    p.age = 30
    c.value = 0
    
    < Read properties >
    show("Person name:")
    show(p.name)
    show("Person age:")
    show(p.age)
    show("Counter value:")
    show(c.value)
    
    show("Blueprint test passed!")
}

spec test_control_flow() {
    show("=== Testing Control Flow ===")
    
    firm x = 10
    
    check(x > 5) {
        show("X is greater than 5")
    }
    
    traverse i from 1 to 3 {
        show(i)
    }
    
    show("Control flow test passed!")
}

spec test_error_handling() {
    show("=== Testing Error Handling ===")
    
    attempt {
        show("In attempt block")
        firm y = 100
    }
    trap {
        show("Error caught")
    }
    conclude {
        show("Cleanup done")
    }
    
    show("Error handling test passed!")
}

spec main() {
    show("========================================")
    show("  BEACON 2.0 - COMPLETE TEST SUITE")
    show("========================================")
    show("")
    
    funcall test_blueprints()
    show("")
    
    funcall test_control_flow()
    show("")
    
    funcall test_error_handling()
    show("")
    
    show("========================================")
    show("  ALL TESTS PASSED - BEACON 100%!")
    show("========================================")
}

funcall main()
